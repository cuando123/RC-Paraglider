#include <Servo.h>
const byte inputPin = 7;
Servo servo_1;
Servo servo_2;
void setup() {
  pinMode( inputPin, INPUT);
  Serial.begin(9600);
  servo_1.attach(6);
  servo_2.attach(5);
}
void loop() {
  int pwm, pwm1, pwm2, pwm3;
  int w_serv_1;
  pwm = pulseIn( inputPin, HIGH);
  pwm1 = map(pwm, 997, 1615, 0, 179);
  if(pwm1<0){ pwm1=0; } //zabezpieczenie zakresu dol
  if(pwm1>179){ pwm1=179; } // zabezpieczenie zakresu gora
  /*
  if(pwm1<=145&&pwm1>=129){
    pwm1 = 90; //wartosc srodkowa drążka
    servo_1.write(90);
    servo_2.write(100);
  }
  if(pwm1>145){
    w_serv_1 = map(pwm1, 129, 179, 90, 170); //przelicznik dla serwa 1
    servo_2.write(100);
    servo_1.write(w_serv_1);
  } else {
    servo_2.write(100);
    servo_1.write(90); //90* dla serwa
  }
  if(pwm1<129){
    pwm3 = map(pwm1, 0, 100, 25, 100); //przelicznik serwa 2
    if(pwm3>100){
      servo_2.write(100);
    } else{
      servo_2.write(pwm3);
    }
  } else {
   servo_2.write(100);
  } //skrecanie serwami lewo prawo- dziala, piny: PWM na serwo1: 6, PWM na serwo2: 5, PWM z RC: pin7, z kanału CH1
  */ 
  Serial.print(pwm);Serial.print(" "); Serial.println(pwm3);
 delay(50);
}
